<!DOCTYPE html>
<html lang="en">
<head>
	<Title>AR Card Game</Title>
	
	<script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
	<script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
	<script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.1.1/dist/aframe-extras.min.js"></script>
</head>

<body style='margin : 0px; overflow: hidden;'>

	<a-scene 
    collision-listener 
    embedded 
    renderer="logarithmicDepthBuffer: true;"
    vr-mode-ui="enabled: false;"
    arjs='trackingMethod: best; sourceType: webcam; detectionMode: mono_and_matrix; matrixCodeType: 3x3;'>
	<!-- <a-scene collision-listener > -->
		<a-assets>
			<a-asset-item id="robot" src="./assets/robot/robot.glb" ></a-asset-item>
			<a-asset-item id="whale" src="./assets/whale/scene.gltf" ></a-asset-item>
			<a-asset-item id="explosion" src="./assets/explosion/scene.gltf" ></a-asset-item>
			<a-asset-item id="sword" src="./assets/sword/scene.gltf" ></a-asset-item>
		</a-assets>

		<a-marker type='barcode' value='0' >
			<a-entity 
				test
				class="hero clickable"
				gltf-model="#robot" 
				scale="0.008 0.008 0.008" 
				position="-3 0 -10"
				animation-mixer="clip: Take 001">
			
			</a-entity>
		</a-marker>

		<a-marker type='barcode' value='1' >
			<a-entity 
				test
				class="hero clickable"
				gltf-model="#whale" 
				scale="0.9 0.9 0.9" 
				position="3 0 -10"
				animation-mixer="clip: Swimming">
				<a-entity
						position="0 1.5 0"
						text="value: Attack: 5 \n Defense: 2; color: #ecf0f1; align: center; wrapCount: 9; lineHeight:70"
						look-at="#camera"
					>
                    <a-entity
                        geometry="primitive: plane; width: 1; height: 0.7 position: 0 0 0.02"
						material="color: #2c3e50; shader: flat; visible: true; depthTest: false; opacity: 0.2"
                        look-at="#camera"
                    ></a-entity>
				</a-entity>
			</a-entity>
			
		</a-marker>

        <a-entity 
        fight-btn
        id="fight-btn"
        visible="true"
        class="clickable"
        scale="0.1 0.1 0.1"
        position="0 0 -1" 
        geometry="primitive: circle; radius: 0.6" 
        material="color: #c0392b; shader: msdf"
        >
            <a-entity 
            gltf-model="#sword" 
            scale="0.3 0.3 0.3" 
            position="0 0.2 0.1"
            animation-mixer="clip: Take 001">
            </a-entity>
            <a-entity
                position="0 -0.65 0.2"
                text="value: Fight; color: #ecf0f1; align: center; wrapCount: 9; lineHeight:70"
                look-at="#camera">
            </a-entity>
            
        </a-entity>
        <!-- look-controls -->
		<a-entity camera id="camera">
			<a-entity 
                cursor="fuse: true; fuseTimeout: 1000"
                position="0 0 -1"
                geometry="primitive: ring; radiusInner: 0.01; radiusOuter: 0.02"
                material="color: black; shader: flat"
                animation__fusing="property: scale; startEvents: fusing; easing: linear; dur: 1000; from: 1 1 1; to: 0.1 0.1 0.1"
				animation__mouseleave="property: scale; startEvents: mouseleave; easing: easeInCubic; dur: 500; to: 1 1 1"
                raycaster="objects: .clickable;"
                >
            </a-entity>
		</a-entity>
	</a-scene>

	<script src="./game.js"></script>
</body>
</html>

